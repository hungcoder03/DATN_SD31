<style>
    .filter-section {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 30px;
    }

    .filter-buttons .btn {
        margin-right: 10px;
        margin-bottom: 10px;
    }

    .filter-buttons a:hover {
        color: white;
    }

    .filter-buttons a {
        color: #0d6efd;
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .table-section {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    }

    .table-section .table thead th {
        background-color: #f1f1f1;
    }

    .action-btn {
        border: none;
        background: none;
        cursor: pointer;
        font-size: 1.2rem;
        padding: 5px;
    }

    .action-btn.accept {
        color: green;
    }

    .action-btn.cancel {
        color: red;
    }

</style>

<div th:fragment="page">
    <div class="container mt-4">
        <h2 class="mb-4 text-center">Quản Lý Hóa Đơn</h2>

        <!-- Filter Section -->
        <div class="filter-section">
            <div class="filter-buttons mb-3">
                <button class="btn btn-outline-primary">
                    <a th:href="@{/admin/hoa-don}">Tất cả</a>
                </button>
                <button class="btn btn-outline-primary position-relative">
                    <a th:href="@{/admin/hoa-don/cho-xac-nhan}">Chờ Xác Nhận</a>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    [[${trangThaiCount['Chờ xác nhận'] ?: 0}]]
                    </span>
                </button>
                <button class="btn btn-outline-primary position-relative">
                    <a th:href="@{/admin/hoa-don/xac-nhan}">Xác Nhận</a>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    [[${trangThaiCount['Xác nhận'] ?: 0}]]
                    </span>
                </button>
                <button class="btn btn-outline-primary position-relative">
                    <a th:href="@{/admin/hoa-don/cho-giao-hang}">Chờ giao hàng</a>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    [[${trangThaiCount['Chờ giao hàng'] ?: 0}]]
                    </span>
                </button>
                <button class="btn btn-outline-primary position-relative">
                    <a th:href="@{/admin/hoa-don/da-giao}">Đã giao</a>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    [[${trangThaiCount['Đã giao'] ?: 0}]]
                    </span>
                </button>
                <button class="btn btn-outline-primary position-relative">
                    <a th:href="@{/admin/hoa-don/hoan-thanh}">Hoàn thành</a>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                    >
                    [[${trangThaiCount['Hoàn thành'] ?: 0}]]
                    </span>
                </button>
                <button class="btn btn-outline-primary position-relative">
                    <a th:href="@{/admin/hoa-don/huy}">Hủy</a>
                </button>
            </div>

            <div class="row g-3 align-items-end">
                <div class="col-md-3">
                    <label for="startDate" class="form-label">Ngày bắt đầu</label>
                    <input type="date" class="form-control" id="startDate" th:value="${startDate}">
                </div>
                <div class="col-md-3">
                    <label for="endDate" class="form-label">Ngày kết thúc</label>
                    <input type="date" class="form-control" id="endDate" th:value="${endDate}">
                </div>
                <div class="col-md-3">
                    <button class="btn btn-primary w-100">Tìm kiếm</button>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-outline-secondary w-100">Làm mới</button>
                </div>
            </div>
        </div>

        <!-- Table Section -->
        <div class="table-section">
            <div class="row mb-3 align-items-center">
                <div class="col-md-2">
                    <label for="entries" class="form-label">Hiển thị</label>
                    <select id="entries" class="form-select">
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>
                <div class="col-md-10 text-end">
                    <label for="search" class="form-label me-2">Tìm kiếm:</label>
                    <input type="text" id="search" class="form-control d-inline-block" style="width: 200px;">
                </div>
            </div>

            <table class="table table-bordered">
                <thead>
                <tr>
                    <th>STT</th>
                    <th>Mã</th>
                    <th>Khách hàng</th>
                    <th>Trạng Thái</th>
                    <th>Thành Tiền</th>
                    <th>Thao Tác</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="hoaDon, index : ${hoaDonList}">
                    <td th:text="${index.count}"></td>
                    <td th:text="${hoaDon.ma}"></td>
                    <td th:text="${hoaDon.tenKH != null ? hoaDon.tenKH : 'Khách lẻ' }"></td>
                    <td th:text="${hoaDon.trangThai}"></td>
                    <td th:text="${@utils.formatCurrency(hoaDon.thanhTien)} + ' VND'"></td>
                    <td>
                        <button class="action-btn accept">✔</button>
                        <button class="action-btn cancel">✖</button>
                        <button class="action-btn cancel">
                            <i class="fa-solid fa-circle-info"></i>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- Pagination -->
            <div class="row mt-3">
                <div class="col-md-6">
                    <p>Đang hiển thị từ 1 đến 2 của 2 bản ghi</p>
                </div>
                <div class="col-md-6 text-end">
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-end mb-0">
                            <li class="page-item"><a class="page-link" href="#">Trước</a></li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">Sau</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
